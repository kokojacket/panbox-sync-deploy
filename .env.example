# ============================================================================
# PanBox Sync 环境变量配置示例
# ============================================================================
# 说明：
# - 本文件仅用于 Docker 部署配置和初始化设置
# - ⚠️ 大部分运行时配置已迁移到数据库，推荐在 Web 界面修改
# - 使用 panbox-sync.sh 部署时，会自动生成 .env 文件
# - 如需手动配置，请复制本文件为 .env 并修改对应值
# ============================================================================

# ========== Docker 部署配置（必需）==========

# Docker 组 GID（自动检测，通常无需手动修改）
# 部署脚本会自动检测宿主机的 docker 组 GID 并写入
# 如需手动设置，使用命令: getent group docker | cut -d: -f3
DOCKER_GID=999

# ========== 端口配置 ==========

# PanBox Sync 后端端口
BACKEND_PORT=8000

# 内置 OpenList 宿主机端口（外部访问使用）
# 说明：
#   - 容器内部 OpenList 固定使用 5244 端口（标准端口）
#   - 此配置仅控制宿主机端口映射（外部访问端口）
#   - 例如：OPENLIST_PORT=5244 → 外部访问 http://服务器IP:5244
#   - 如果宿主机 5244 端口被占用，可改为其他端口（如 8244）
OPENLIST_PORT=5244

# ========== 时区配置 ==========

# 容器时区设置
TZ=Asia/Shanghai

# ========== 内置 OpenList 配置 ==========

# 是否启用内置 OpenList（一体化模式，推荐）
# true: 使用内置 OpenList（无需额外部署）
# false: 使用外部 OpenList 容器（需要在 PanBox Sync 设置中配置连接）
ENABLE_INTERNAL_OPENLIST=true

# 内置 OpenList 数据目录（通常无需修改）
# INTERNAL_OPENLIST_DATA=/app/openlist-data

# ========== 外部 OpenList 配置（仅当 ENABLE_INTERNAL_OPENLIST=false 时使用）==========

# 外部 OpenList 容器名称（用于重启功能）
# OPENLIST_CONTAINER_NAME=openlist

# ============================================================================
# ⚠️ 以下配置已迁移到数据库，不推荐在此处设置
# ============================================================================
# 这些配置项已迁移到数据库（system_settings 表），推荐在 Web 界面的
# "系统设置" 页面进行动态调整。在此处设置的值仅作为初始化默认值，
# 启动后会被数据库中的配置覆盖。
#
# 如需修改以下配置，请：
# 1. 登录 PanBox Sync Web 界面
# 2. 进入 "系统设置" 页面
# 3. 修改并保存配置
# 4. 配置立即生效，无需重启服务
# ============================================================================

# ========== 并发控制（已迁移到数据库）==========
# 这些配置可在 Web 界面动态调整，修改后立即生效

# 并发下载数（默认：3）
# MAX_CONCURRENT_DOWNLOADS=3

# 并发上传数（默认：2）
# MAX_CONCURRENT_UPLOADS=2

# 并发转码数（默认：2）
# MAX_CONCURRENT_TRANSCODES=2

# ========== 执行控制（已迁移到数据库）==========

# 全局执行间隔（分钟，默认：10）
# GLOBAL_INTERVAL_MINUTES=10

# 失败重试次数（默认：1）
# MAX_RETRY_ATTEMPTS=1

# ========== OpenList 连接配置（已迁移到数据库）==========

# OpenList 服务地址（已迁移到数据库，请在 Web 界面配置）
# OPENLIST_BASE_URL=http://openlist:5244

# OpenList API Token（已迁移到数据库，请在 Web 界面配置）
# OPENLIST_TOKEN=

# ========== 其他配置（已有系统默认值）==========

# 日志级别（默认：INFO）
# 可选值：DEBUG, INFO, WARNING, ERROR, CRITICAL
# LOG_LEVEL=INFO

# ============================================================================
# 桌面便携模式配置（仅用于桌面版）
# ============================================================================
# 以下配置仅在桌面版（PyInstaller 打包）中使用，Docker 部署无需设置
# ============================================================================

# 启用桌面便携模式
# PANBOX_SYNC_DESKTOP_MODE=true

# 数据目录
# PANBOX_SYNC_DATA_DIR=data

# 数据库路径
# PANBOX_SYNC_DATABASE_PATH=data/database.db

# 下载目录
# PANBOX_SYNC_DOWNLOAD_DIR=data/downloads

# 上传目录
# PANBOX_SYNC_UPLOAD_DIR=data/uploads

# 日志目录
# PANBOX_SYNC_LOG_DIR=data/logs
